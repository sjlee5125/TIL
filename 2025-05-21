## ğŸ”§ í™˜ê²½ ì„¤ì • ë° ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë”©

```r
Sys.getenv("HOME")
.libPaths()
.libPaths("C:/R")
setwd("c:/r_workdata")
Sys.setlocale("LC_ALL", "korean")

library(lubridate, lib.loc = "C:/R")
library(dplyr, lib.loc = "C:/R")
library(ggplot2, lib.loc = "C:/R")
library(googleVis, lib.loc = "C:/R")
library(plyr)
```

---

## ğŸ“Š íˆìŠ¤í† ê·¸ë¨ (`hist`)
```r
h <- c(182,175,167,163,172,181,166,159,155)
hist(h, main = "HIST")
```

---

## ğŸ¥§ ì›í˜• ì°¨íŠ¸ (`pie`)
```r
p1 <- c(11, 19, 33, 37)
pie(p1)
pie(p1, radius = 1, init.angle = 90, col = rainbow(length(p1)), labels = c('w1', 'w2', 'w3', 'w4'))

pct <- round(p1 / sum(p1) * 100, 1)
lab <- paste(pct, '%')
pie(p1, radius = 1, init.angle = 90, col = rainbow(length(p1)), labels = lab)

legend(0.8, 1.1, c('w1', 'w2', 'w3', 'w4'), cex = 0.5, fill = rainbow(length(p1)))

lab2 <- paste(c('w1','w2','w3','w4'), '\n', pct, '%')
pie(p1, radius = 1, init.angle = 90, col = rainbow(length(p1)), labels = lab2)
```

---

## ğŸ§ 3D íŒŒì´ ì°¨íŠ¸ (`pie3D`)
```r
install.packages("plotrix", lib = "C:/R")
library(plotrix)
pie3D(p1, radius = 1, col = rainbow(length(p1)), labels = lab2, explode = 0.05)
```

---

## ğŸ“¦ ìƒì ê·¸ë¦¼ (`boxplot`)
```r
v1 <- c(10,12,15,11,20)
v2 <- c(5,7,15,8,9)
v3 <- c(11,20,15,18,13)
boxplot(v1, v2, v3)
boxplot(v1, v2, v3, col = c('blue', 'yellow', 'red'), names = c('BLUE', 'YELLOW', 'RED'), horizontal = TRUE)
```

---

## ğŸ”— ê´€ê³„ë„ ì‹œê°í™” (`igraph`)
```r
install.packages("igraph", lib = "C:/R")
library(igraph)

g1 <- graph(c(1,2, 2,3, 2,4, 1,4, 5,5, 3,6))
plot(g1)

name <- c('í™ê¸¸ë™ëŒ€í‘œ','ì¼ì§€ë§¤ë¶€ì¥','ê¹€ìœ ì‹ ','ì†í¥ë¯¼ëŒ€ë¦¬','ìœ¤ë´‰ê¸¸ëŒ€ë¦¬','ì´ìˆœì‹ ë¶€ì¥','ìœ ê´€ìˆœê³¼ì¥','ì‹ ì‚¬ì„ë‹¹ëŒ€ë¦¬','ê°•ê°ì°¬ë¶€ì¥','ê´‘ê°œí† ê³¼ì¥','ì •ëª½ì£¼ëŒ€ë¦¬')
pemp <- name
emp <- data.frame(ì´ë¦„ = name, ìƒì‚¬ì´ë¦„ = pemp)

g <- graph.data.frame(emp, directed = TRUE)
plot(g, layout = layout.fruchterman.reingold, vertex.size = 5, edge.arrow.size = 0.3)
```

---

## ğŸ’¾ ë„¤íŠ¸ì›Œí¬ ì €ì¥ ë° D3 ì‹œê°í™”
```r
dev.new()
plot(g, layout = layout.fruchterman.reingold, vertex.size = 5, edge.arrow.size = 0.3)
savePlot('network.png', type = 'png')

install.packages("devtools", lib = "C:/R")
library(devtools)
install_github("christophergandrud/d3Network")
install.packages("RCurl", lib = "C:/R")
library(RCurl)
library(d3Network, lib.loc = "C:/R")

d3SimpleNetwork(emp, width = 600, height = 600, file = 'c:/r_workdata/d3.html')
```

---

## ğŸ§¹ ê²°ì¸¡ì¹˜ ì²˜ë¦¬

```r
df <- data.frame(gender = c('M','F',NA,'M','F'), score = c(5,4,3,4,NA))

is.na(df)
table(is.na(df))
table(is.na(df$gender))

df1 <- df %>% filter(!is.na(score))
mean(df1$score)
sum(df1$score)

df1 <- df %>% filter(!is.na(score) & !is.na(gender))
df2 <- na.omit(df)

mean(df$score, na.rm = TRUE)
```

---

## ğŸ“‚ CSV íŒŒì¼ ê²°ì¸¡ì¹˜ ì²˜ë¦¬

```r
exam <- read.csv("csv_exam.csv")
exam[c(3,8,15),'math'] <- NA

exam %>% summarise(mean_math = mean(math, na.rm = TRUE))

exam$math <- ifelse(is.na(exam$math), 55, exam$math)
```

---

## âš ï¸ ì´ìƒì¹˜ ì²˜ë¦¬

```r
out <- data.frame(gender = c(1,2,1,3,2,1), score = c(5,4,3,4,2,6))

out$gender <- ifelse(out$gender == 3, NA, out$gender)
out$score <- ifelse(out$score > 5, NA, out$score)

out %>% 
  filter(!is.na(gender) & !is.na(score)) %>% 
  group_by(gender) %>% 
  dplyr::summarise(mean_score = mean(score))
```

---

## ğŸ“ˆ í†µê³„ì  ì´ìƒì¹˜ ì²˜ë¦¬ (boxplot ì´ìš©)

```r
boxplot(mpg$hwy)
mpg$hwy <- ifelse(mpg$hwy < 12 | mpg$hwy > 37, NA, mpg$hwy)

mpg %>% 
  filter(!is.na(hwy)) %>% 
  group_by(drv) %>% 
  dplyr::summarise(mean_hwy = mean(hwy))
```

---

## ğŸ§ª ì—°ìŠµ ë¬¸ì œ

### Q1. `drv`ì™€ `hwy` ê²°ì¸¡ì¹˜ ê°œìˆ˜ í™•ì¸
```r
table(is.na(mpg$drv))
table(is.na(mpg$hwy))
```

### Q2. ê²°ì¸¡ì¹˜ ì œì™¸ í›„ `drv`ë³„ `hwy` í‰ê· 
```r
mpg %>% 
  filter(!is.na(hwy)) %>% 
  group_by(drv) %>% 
  dplyr::summarise(mean_hwy = mean(hwy))
```
